<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
	<script>
	
		/* (1)函数内部可以直接读取全局变量。 */
		
		/*var n = 999;
		function f1(){
			alert(n);
		}
		f1();*/
		
		
		/* (2)在函数外部自然无法读取函数内的局部变量 */
		
		/*function f1(){
			var n = 999;
		}
		alert(n);*/
		
		/* (3)函数内部声明变量的时候，一定要使用var命令。如果不用的话，你实际上声明了一个全局变量！*/
		
		/*function f1(){
			n = 999;
		}
		f1();
		alert(n);*/
		
		/* (4)如何得到函数内的局部变量：在函数的内部，再定义一个函数 */
		
		/*function f1(){
			var n = 999;
			function f2(){
				alert(n);
			}
			return f2;
		}
		var result = f1();
		result();*/
		
		/* 闭包的最大用处：
		 *    (1)可以读取函数内部的变量，
		 *    (2)让这些变量的值始终保持在内存中。
		*/
		
		/*function f1(){
			var n = 999;
			nAdd = function(){
				n += 1;
			}
			function f2(){
				alert(n);
			}
			return f2;
		}
		var result = f1();
		result();
		nAdd();
		result();*/
		
		/* 闭包的运行机制1 */
		
		/*var name = "The Window";
		var object = {
			name : "My Object",
			getNameFunc : function(){
				return function(){
					return this.name;
				};
			}
		};
		alert(object.getNameFunc());*/
		
		/* 闭包的运行机制2 */
		
		var name = "The Window";
		var object = {
			name : "My Object",
			getNameFunc : function(){
				var that = this;
				return function(){
					return that.name;
				};
			}
		};
		alert(object.getNameFunc());
	</script>
</html>
